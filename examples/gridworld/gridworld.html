<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gridworld Game</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/mplib/examples/general.css">
    <link rel="stylesheet" href="/mplib/examples/gridworld/gridworld.css" type="text/css">
</head>

<body>

    <!-- Consent Screen -->
<div class="grayscreen" id="consentDiv">
    <h3>Participant Information</h3>
    <p>Welcome to the grid game! Please, carefully read the information below before you decide to participate in
        this study.</p>
    <h4>Project Summary</h4>
    <p>The aim of this study is to examine people's strategy in a multi-player game.</p>
    <h4>Time Commitment</h4>
    <p>The study typically takes 15 minutes to complete.</p>
    <h4>Benefits & Risks</h4>
    There are no direct benefits from your participation in this study.
    <h4>Eligibility Requirements</h4>
    <ul>
        <li>You can participate only once in this study</li>
        <li>United States citizen/resident</li>
        <li>18 years or older</li>
        <li>English speaker</li>
    </ul>
    <h4>Reimbursement & Compensation</h4>
    You will receive $3.00 US in return for your participation.
    Note: If your data are below a minimal threshold for quality, you will not be compensated.
    <h4>Confidentiality & Anonymity</h4>
    All research data collected will be stored securely and confidentially on a password protected server indefinitely.
    Identifying details will not be associated with any data provided by you as part of any publication or presentation.
    <p></p>
    <div id="consentbox">
        <input type="checkbox" name="terms" id="consentcheckbox">
        <b>Check here</b> to confirm that: you have read and understood the <i>Participant Information Sheet</i>, you
        are taking part in this research study voluntarily, you meet the eligibility requirements, and you are agreeing
        that your anonymized data may be shared in public repositories.
    </div>
    <p id="fullscreenNote"><i>Note: Clicking "Proceed" will take you to the game in full-screen mode.</i></p>
    <div class="buttonplacement">
        <button id="consentProceed">Proceed</button>
    </div>
</div>

    <div class="container" id="instructionsScreen" style="display: none;">
        <h1 id="instructionsTitle">Instructions</h1>
        <div class="containertext" id="instructionText">
            <p id="instructionsMessage"> You are going to play a simple game with another player. The primary goal of the game is to collect coins. </p>
        </div>
    
        <!-- Practice Game Container -->
        <div id="practiceGameContainer"  style="display: none;"></div>
    
        <!-- Navigation Buttons -->
        <div class="instruction-buttons">
            <a href="#" class="button" id="nextBtn">Next</a> <!-- Next button for instructions -->
            <a href="#" class="button" id="joinBtn" style="display: none;">Join Game</a> <!-- Join button, hidden initially -->
        </div>
    </div>
    

    
    
    <div class="container" id="waitingRoomScreen"  style="display:none">
        <h1>Waiting Room</h1>  
        <p id="waitingTimeDisplay">Waiting time: 0m 0s</p>
        <div class="containertext" id="messageWaitingRoom"></div>
    </div>
    <div class="containertrans" id="gameScreen"    style="display:none">

        <!-- <div class="header-container">
           <h1 id="messageGame">You are</h1>
           <a href="#" class="button2" id="leaveBtn">End Session</a>
        </div> -->
        <div class="game-container">
            <div class="subgrid subgrid1"></div>
            <div class="subgrid subgrid2"></div>
            <div class="subgrid subgrid3"></div>
            <div class="subgrid subgrid4"></div>
            <div class="subgrid subgrid5"></div>
            <div class="subgrid subgrid6"></div>
            <div class="subgrid subgrid7"></div>
            <div class="subgrid subgrid8"></div>
        </div>
        
        
          
    </div>

    <div class="player-info-panel" style="display:none">
        <h2>Player Information</h2>
        <ul id="player-list">
          <!-- Player items will be dynamically added here -->
        </ul>
    </div>

    <div class="timer-container" style="display:none">
        <span id="round-timer">Time Left: 00:00</span>
    </div>

    <div class="break-overlay" id="breakOverlay">
        <div class="overlay-block">
            <h1 id="roundTitle">Round Ended</h1>
            <p id="roundMessage">Next round starts in 5 seconds...</p>
        </div>
    </div>
    
        
        <!--
        <div class="player-info">
          <div>
            <label for="player-name">Your Name (change if needed)</label>
            <input id="player-name" maxlength="10" type="text" />
          </div>
          <div>
            <button id="player-color">Change Color</button>
          </div>
        </div>
        -->
    </div>
    <div class="container" id="finishScreen"  style="display:none">
        <h1>Completion</h1>  
        <div class="containertext" id="messageFinish"></div>

        <form id="questionnaireForm" style="display:none">
              <label for="strategy">What was your strategy in the game?<span style="color: red;">*</span></label>
              <textarea id="strategy" name="strategy"></textarea>
          
              <label for="gameView">Do you see this game primarily as a:<span style="color: red;">*</span></label>
              <select id="gameView" name="gameView">
                <option value="competitive">Competitive</option>
                <option value="collaborative">Collaborative</option>
              </select>
          
              <label for="generalGameView">Generally, do you see multiplayer games primarily as:<span style="color: red;">*</span></label>
              <select id="generalGameView" name="generalGameView">
                <option value="competitive">Competitive</option>
                <option value="collaborative">Collaborative</option>
              </select>
          
              <label for="noticedStuckPlayer">Did you notice the other player getting stuck?<span style="color: red;">*</span></label>
              <select id="noticedStuckPlayer" name="noticedStuckPlayer">
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
          
              <label for="helpedStuckPlayer">Did you help the stuck player?<span style="color: red;">*</span></label>
              <select id="helpedStuckPlayer" name="helpedStuckPlayer">
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
          
              <label for="reasonHelped">Whenever you helped the player who was stuck, why did you help?<span style="color: red;">*</span></label>
              <textarea id="reasonHelped" name="reasonHelped"></textarea>
          
              <label for="reasonNotHelped">Whenever you didn't help the player who was stuck, why didn't you help?<span style="color: red;">*</span></label>
              <textarea id="reasonNotHelped" name="reasonNotHelped"></textarea>
          
              <label for="helpfulnessRating">Rating of the perceived helpfulness of other players (1 = Not helpful at all, 7 = Very helpful):<span style="color: red;">*</span></label>
              <div id="helpfulnessRating">
                <label><input type="radio" name="helpfulnessRating" value="1"> 1</label>
                <label><input type="radio" name="helpfulnessRating" value="2"> 2</label>
                <label><input type="radio" name="helpfulnessRating" value="3"> 3</label>
                <label><input type="radio" name="helpfulnessRating" value="4"> 4</label>
                <label><input type="radio" name="helpfulnessRating" value="5"> 5</label>
                <label><input type="radio" name="helpfulnessRating" value="6"> 6</label>
                <label><input type="radio" name="helpfulnessRating" value="7"> 7</label>
              </div>
              <label for="observedHelp">Did you observe other players help a stuck player?<span style="color: red;">*</span></label>
              <select id="observedHelp" name="observedHelp">
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
          
              <label for="selfHelpfulness">How helpful do you think you are in the game? (1 = Not helpful at all, 7 = Very helpful):<span style="color: red;">*</span></label>
                <div id="selfHelpfulness">
                <label><input type="radio" name="selfHelpfulness" value="1"> 1</label>
                <label><input type="radio" name="selfHelpfulness" value="2"> 2</label>
                <label><input type="radio" name="selfHelpfulness" value="3"> 3</label>
                <label><input type="radio" name="selfHelpfulness" value="4"> 4</label>
                <label><input type="radio" name="selfHelpfulness" value="5"> 5</label>
                <label><input type="radio" name="selfHelpfulness" value="6"> 6</label>
                <label><input type="radio" name="selfHelpfulness" value="7"> 7</label>
                </div>
          
              <button type="button" id="submitQuestionnaire">Submit</button>
            </form>
          </div>
    </div>  
    
    <script src="/mplib/src/mpconfig.js"></script>
    <script type="module" src="/mplib/src/mplib.js" async></script>
    <!--    <script src="/mplib/examples/gridworld/KeyPressListener.js"></script>  -->
    <script type="module" src="/mplib/examples/gridworld/gridworld.js"></script>
</body>

</html>